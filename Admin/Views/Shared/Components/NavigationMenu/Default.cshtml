@model List<Admin.ViewModel.NavigationMenuViewModel>
@{
	ViewData["Title"] = "NavigationMenu";
}

	@*<ul class="navbar-nav mr-auto">
		@foreach (var item in Model)
		{
			if (item.ParentMenuId == null) //Level one items will have null parent id
			{
				if (!string.IsNullOrWhiteSpace(item.ControllerName))
				{
					<li class="nav-item active">
						<a class="nav-link text" asp-area="@item.Area" asp-controller="@item.ControllerName" asp-action="@item.ActionName">@item.Name</a>
					</li>
				}
				if (item.IsExternal && !string.IsNullOrWhiteSpace(item.ExternalUrl))
				{
					<li class="nav-item active">
						<a target="_blank" class="nav-link text" href="@item.ExternalUrl">@item.Name</a>
					</li>
				}
				var children = Model.Where(x => x.ParentMenuId == item.Id && x.Visible).OrderBy(x => x.DisplayOrder).ToList();
				if (children != null)
				{
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">@item.Name</a>
						<div class="dropdown-menu" aria-labelledby="dropdown01">
							@foreach (var itm in children)
							{
								if (itm.IsExternal && !string.IsNullOrWhiteSpace(itm.ExternalUrl))
								{
									<a target="_blank" class="dropdown-item" href="@itm.ExternalUrl">@itm.Name</a>
								}
								else
								{
									<a class="dropdown-item" asp-area="@item.Area" asp-controller="@itm.ControllerName" asp-action="@itm.ActionName">@itm.Name</a>
								}
							}
						</div>
					</li>
				}
			}
		}
	</ul>*@
              
              @*<li class="nav-item nav-profile dropdown">
              <a class="nav-link dropdown-toggle" id="profileDropdown" href="#" data-bs-toggle="dropdown" aria-expanded="false">
                <div class="nav-profile-img">
                  <i class="mdi mdi-account-key me-2 text-success"></i>
                  <span class="availability-status online"></span>
                </div>
                <div class="nav-profile-text">
                  <p class="mb-1 text-black">Manage</p>  
                </div>
              </a>
			  <div class="dropdown-menu navbar-dropdown" aria-labelledby="profileDropdown">*@
			  @foreach (var item in Model)
			{
				if (item.ParentMenuId == null) //Level one items will have null parent id
				{
					if (!string.IsNullOrWhiteSpace(item.ControllerName))
					{

					<a class="dropdown-item" asp-area="@item.Area" asp-controller="@item.ControllerName" asp-action="@item.ActionName">@item.Name</a>
					}
					if (item.IsExternal && !string.IsNullOrWhiteSpace(item.ExternalUrl))
					{

						<a target="_blank" class="dropdown-item" href="@item.ExternalUrl">@item.Name</a>

					}
					var children = Model.Where(x => x.ParentMenuId == item.Id && x.Visible).OrderBy(x => x.DisplayOrder).ToList();
					if (children != null)
					{
						<li class="nav-item nav-profile dropdown">
							  <a class="nav-link dropdown-toggle" id="Dropdown" href="#" data-bs-toggle="dropdown" aria-expanded="false">
								<div class="nav-profile-img">
								  <i class="mdi mdi-account-key me-2 text-success"></i>
								  <span class="availability-status online"></span>
								</div>
								<div class="nav-profile-text">
								  <p class="mb-1 text-black">Manage</p>  
								</div>
							  </a>
							  <div class="dropdown-menu navbar-dropdown" aria-labelledby="Dropdown">
								@foreach (var itm in children)
								{
									if (itm.IsExternal && !string.IsNullOrWhiteSpace(itm.ExternalUrl))
									{
										<a target="_blank" class="dropdown-item" href="@itm.ExternalUrl">@itm.Name</a>
									}
									else
									{
										<a class="dropdown-item" asp-area="@item.Area" asp-controller="@itm.ControllerName" asp-action="@itm.ActionName">@itm.Name</a>
									}
								}
							</div>
						</li>
					}

				}
			}

            @*  </div>
           </li>*@